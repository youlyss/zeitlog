{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}
    <section>
        <div class="container">

            <div class="row">
                <div class="col-md-12 center"> <h1>{{ title }}</h1></div>
            </div>
            <div class="row center">
                <div class="col-md-2"><h4>Username</h4></div>
                <div class="col-md-2"><h4>start</h4></div>
                <div class="col-md-2"><h4>End</h4></div>
                <div class="col-md-2"><h4>Tag</h4></div>
                <div class="col-md-2"><h4>Monat</h4></div>
                <div class="col-md-2"><h4>Delete</h4></div>
            </div>
            <hr>
            {% set summe = 0  %}
            {% for worktime in worktimes %}
                <div class="row">
                    <div class="col-md-2">{{worktime.email }}</div>
                    <div class="col-md-2">{{worktime.startTime|date("Y-m-d h:i:s") }} </div>
                    <div class="col-md-2">{{ worktime.endTime|date("Y-m-d h:i:s") }}</div>
                    {% set difference = date(worktime.endTime).diff(date(worktime.startTime)) %}
                    {% set leftDays = difference.days %}

                    {% set interval = worktime.endTime.diff(worktime.startTime)|date("%mm %dd %h:%i:%ss") %}

                    {% set intervalCalculate = worktime.endTime.diff(worktime.startTime) %}

                    {% set summe = initial.add(intervalCalculate)%}




                    <div class="col-md-2 center">{{ difference.days }}</div>
                    <div class="col-md-2 center">{{ interval }}</div>
                    <div class="col-md-2 center"><a class="btn btn-outline-danger btn-sm" href="/dashboard/delete/{{ worktime.id }}">delete</a></div>

                </div>
            {% endfor %}
            <hr>
            <div class="row">
                <div class="col-md-12 center"> <h5>Auswertung</h5></div>
            </div>

            <div class="row center">
                <div class="col-md-3"><h4>Total </h4></div>
                <div class="col-md-3"><h4>Monat</h4></div>
                <div class="col-md-3"><h4>{{ initial | date("h:i:s") }}</h4></div>
                <div class="col-md-3"><h4>{{ summe |date("Y-m-d h:i:s") }}</h4></div>

            </div>
            <hr>
            <div class="row center">
                <div class="col-md-12"><a class="btn btn-outline-primary" href="/dashboard">back</a> </div>
            </div>


        </div>

    </section>
{% endblock %}
